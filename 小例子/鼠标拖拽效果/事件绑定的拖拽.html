<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>事件绑定的拖拽</title>
<style>
    #box{
        width: 100px;
        height: 100px;
        position: absolute;
        top: 0px;
        left: 0px;
        background: red;
    }
</style>  
</head>
<body>
<div id="box"></div>

<script>
  /*
    拖拽的3大事件：
    1.onmousedown
    2.onmousemove
    3.onmouseup

    解除move:
        解除事件绑定要用有名函数才能解除，这时候的解决方法是
        把匿名函数变成有名函数
  */

  const box = document.getElementById('box');

  box.addEventListener('mousedown',function(ev){
      let disX = ev.pageX - this.offsetLeft;
      let disY = ev.pageY - this.offsetTop;
      
      document.addEventListener('mousemove',move);
      function move(e){
          box.style.left = e.pageX - disX + 'px';
          box.style.top = e.pageY - disY + 'px';
      }
      document.addEventListener('mouseup',up);
      function up(){
          //当鼠标抬起的时候给鼠标移动事件解绑 并且 鼠标抬起事件也要进行解绑
          document.removeEventListener('mousemove',move);
          document.removeEventListener('mouseup',up);
      }
  });
  
</script>
</body>
</html>

