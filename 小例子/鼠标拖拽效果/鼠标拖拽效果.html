<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>鼠标拖拽效果</title>
<style>
    #div{
        width: 100px;
        height: 100px;
        position: absolute;
        top: 0px;
        left: 0px;
        background: red;
    }
</style>  
</head>
<body>
<div id="div"></div>

<script>
  const div = document.getElementById('div');

  let disX = 0;
  let disY = 0;

  div.onmousedown = function(ev){
      disX = ev.pageX - div.offsetLeft;
      disY = ev.pageY - div.offsetTop;

      document.onmousemove = function(e){
          let mpageX = e.pageX;
          let mpageY = e.pageY;

          div.style.left = (mpageX - disX) + 'px';
          div.style.top = (mpageY - disY) + 'px';

      }

      document.onmouseup = function(){
        document.onmousemove = null;
        document.onmouseup = null;
      }
      return false;  //阻止默认行为
  }
  
</script>
</body>
</html>

