<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>上移下移</title>
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<script src="js/tween.js"></script>
</head>
<body>
<ul class="box">
	<li><span>泡沫-邓紫棋</span><a href="javascript:;">上移</a><a href="javascript:;">下移</a></li>
	<li><span>逆战-张杰</span><a href="javascript:;">上移</a><a href="javascript:;">下移</a></li>
	<li><span>喜欢你-邓紫棋</span><a href="javascript:;">上移</a><a href="javascript:;">下移</a></li>
	<li><span>模特-李荣浩</span><a href="javascript:;">上移</a><a href="javascript:;">下移</a></li>
	<li><span>李白-李荣浩</span><a href="javascript:;">上移</a><a href="javascript:;">下移</a></li>
</ul>
<script>
	/*
	思路：把多有li的高度存在一个数组中
	[0, 102, 204, 306, 408]
	*/
	let lis = document.getElementsByTagName('li');
	let ul = document.getElementsByClassName('box')[0];
	let arr = [];

    //把多有li的高度存在一个数组中
	for(var i = 0;i < lis.length;i++){
		arr.push(lis[i].offsetTop);
		lis[i].style.top = lis[i].offsetTop + 'px';
	}

	for(var i = 0;i < lis.length;i++){
       lis[i].style.position = 'absolute';

	   let up = lis[i].children[1];  //上移
	   let down = lis[i].children[2]; //下移
       
	   //点击上移
	   up.onclick = function(){
           let parent = this.parentNode;
		   let prev = parent.previousElementSibling;
		   ul.insertBefore(parent,prev)
		   m();
	   }

	   down.onclick = function(){
           let parent = this.parentNode;
		   let next = parent.nextElementSibling;
		   ul.insertBefore(parent,next)
		   if(next){
			   ul.insertBefore(next,parent);
		   }else{
			   ul.insertBefore(parent,ul.children[0]);
		   }
		   m();
	   }
	}

	function m(){
		for(var i = 0;i <lis.length;i++){
			move({
				attrs:{
					top:arr[i]
				},
				obj:lis[i],
				d:500
			});
		}
	}


</script>
</body>
</html>